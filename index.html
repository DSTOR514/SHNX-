<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SHNX Movies</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root { --bg-color: #0a0a0a; --card-bg: #1a1a1a; --accent: #e50914; }
        body { margin: 0; background: var(--bg-color); color: white; font-family: sans-serif; direction: rtl; padding-bottom: 30px; }
        header { padding: 15px; background: rgba(0,0,0,0.9); position: fixed; width: 100%; top: 0; z-index: 100; text-align: center; border-bottom: 1px solid #222; }
        .logo { font-size: 26px; font-weight: 900; color: var(--accent); }
        .hero { height: 45vh; background: linear-gradient(to top, var(--bg-color), transparent), url('https://placehold.co/600x400/222/fff?text=SHNX+MOVIES'); background-size: cover; display: flex; align-items: flex-end; padding: 20px; }
        .section-title { margin: 20px 15px 10px; font-size: 18px; font-weight: bold; border-right: 3px solid var(--accent); padding-right: 10px; }
        .scroll-container { display: flex; overflow-x: auto; padding: 0 15px; gap: 10px; }
        .card { min-width: 100px; background: var(--card-bg); border-radius: 8px; overflow: hidden; text-align: center; cursor: pointer; border: 1px solid #222; }
        .card img { width: 100%; height: 140px; object-fit: cover; }
        .card-title { font-size: 11px; padding: 5px; white-space: nowrap; overflow: hidden; }
        
        /* صفحة الحلقات */
        #episodes-page { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-color); z-index: 200; overflow-y: auto; }
        .ep-header { padding: 15px; display: flex; align-items: center; gap: 15px; background: #111; position: sticky; top: 0; }
        .ep-list { padding: 15px; display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
        .ep-item { background: #222; padding: 15px 5px; border-radius: 5px; text-align: center; font-size: 13px; font-weight: bold; }
        .ep-item.active { background: var(--accent); color: white; }
        .ep-item.locked { opacity: 0.3; }
    </style>
</head>
<body>

    <header><div class="logo">SHNX</div></header>

    <div id="main-page">
        <div class="hero"><div><h1 id="hero-name">مرحباً أسامة</h1><p>اختر مسلسلك المفضل وابدأ المشاهدة</p></div></div>
        <div id="sections-container"></div>
    </div>

    <div id="episodes-page">
        <div class="ep-header"><button onclick="closeEp()" style="background:none; border:none; color:white; font-size:20px;">➜</button> <span id="current-show-title">اسم المسلسل</span></div>
        <div class="ep-list" id="ep-list-container"></div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // ---------------------------------------------------------
        // 1. قائمة المسلسلات (تعدل الأسماء والصور هنا فقط)
        // ---------------------------------------------------------
        const mySeries = [
            { name: "شباب البومب", img: "https://placehold.co/200x300?text=Shabab" },
            { name: "شارع الأعشى 2", img: "https://placehold.co/200x300?text=Asha" },
            { name: "يوميات رجل عانس", img: "https://placehold.co/200x300?text=Anis" },
            { name: "جاك العلم 3", img: "https://placehold.co/200x300?text=Jak" },
            { name: "رامز ليڤل", img: "https://placehold.co/200x300?text=Ramez" },
            { name: "كحيلان", img: "https://placehold.co/200x300?text=Kahilan" }
            // يمكنك إضافة البقية بنفس النمط...
        ];

        // ---------------------------------------------------------
        // 2. جدول الروابط (هنا تضع روابط الحلقات فقط)
        // ---------------------------------------------------------
        const linksDB = {
            "شباب البومب": {
                1: "https://vkvideo.ru/video_ext.php?oid=791768803&id=456260752&hash=ec5473ebc5345dd6&hd=2",
                2: "ضع_رابط_الحلقة_2_هنا",
                3: "", // اتركها فارغة إذا لم تتوفر بعد
            },
            "رامز ليڤل": {
                1: "رابط_رامز_هنا",
            },
            // أضف أي مسلسل من القائمة أعلاه هنا وضع روابطه
        };

        // ---------------------------------------------------------
        // باقي الكود يعمل آلياً - لا تلمس شيئاً هنا
        // ---------------------------------------------------------
        function init() {
            let container = document.getElementById('sections-container');
            let html = '<div class="section-title">كل المسلسلات</div><div class="scroll-container">';
            mySeries.forEach(s => {
                html += `<div class="card" onclick="openEp('${s.name}')"><img src="${s.img}"><div class="card-title">${s.name}</div></div>`;
            });
            html += '</div>';
            container.innerHTML = html;
        }

        function openEp(name) {
            document.getElementById('main-page').style.display = 'none';
            document.getElementById('episodes-page').style.display = 'block';
            document.getElementById('current-show-title').innerText = name;
            
            let list = document.getElementById('ep-list-container');
            list.innerHTML = "";
            
            for(let i=1; i<=30; i++) {
                let link = (linksDB[name] && linksDB[name][i]) ? linksDB[name][i] : null;
                let item = document.createElement('div');
                item.className = link ? 'ep-item active' : 'ep-item locked';
                item.innerText = "الحلقة " + i;
                if(link) {
                    item.onclick = () => { tg.openLink(link); };
                } else {
                    item.onclick = () => { tg.showPopup({message: "هذه الحلقة ستتوفر قريباً"}); };
                }
                list.appendChild(item);
            }
        }

        function closeEp() {
            document.getElementById('episodes-page').style.display = 'none';
            document.getElementById('main-page').style.display = 'block';
        }

        init();
    </script>
</body>
</html>
