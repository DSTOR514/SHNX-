!DOCCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SHNX Movies</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-color: #141414;
            --card-bg: #2f2f2f;
            --text-color: #ffffff;
            --accent-color: #e50914;
        }
        body { margin: 0; padding: 0; background-color: var(--bg-color); color: var(--text-color); font-family: 'Segoe UI', sans-serif; -webkit-tap-highlight-color: transparent; padding-bottom: 50px; }
        
        /* Ø§Ù„Ø±Ø£Ø³ */
        header { padding: 15px; background: linear-gradient(to bottom, black, transparent); position: fixed; width: 100%; z-index: 100; top: 0; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 28px; font-weight: 900; color: var(--accent-color); letter-spacing: 1px; text-shadow: 0 2px 4px rgba(0,0,0,0.8); }
        
        /* Ø§Ù„Ø¨Ø§Ù†Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .hero { height: 60vh; background-image: url('https://placehold.co/600x800/111/fff?text=SHNX+Exclusive'); background-size: cover; background-position: center; position: relative; display: flex; align-items: flex-end; }
        .hero::after { content: ''; position: absolute; bottom: 0; width: 100%; height: 60%; background: linear-gradient(to top, var(--bg-color), transparent); }
        .hero-content { position: relative; z-index: 2; padding: 20px; width: 100%; text-align: center; }
        .hero-title { font-size: 36px; font-weight: 800; margin-bottom: 10px; }
        .btn-hero { background: var(--text-color); color: black; border: none; padding: 10px 25px; border-radius: 5px; font-weight: bold; font-size: 16px; margin-top: 10px; cursor: pointer; }

        /* Ø§Ù„Ù‚ÙˆØ§Ø¦Ù… */
        .section-title { font-size: 18px; font-weight: 700; margin: 25px 20px 10px; color: #e5e5e5; }
        .scroll-container { display: flex; overflow-x: auto; padding: 0 20px; gap: 12px; scrollbar-width: none; }
        .scroll-container::-webkit-scrollbar { display: none; }
        
        .movie-card { min-width: 110px; width: 110px; cursor: pointer; transition: transform 0.2s; }
        .movie-card:active { transform: scale(0.95); }
        .poster { width: 100%; height: 160px; border-radius: 6px; object-fit: cover; background-color: #333; }
        .movie-title { font-size: 12px; margin-top: 5px; text-align: center; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; color: #ccc; }

        /* ØµÙØ­Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª (Modal) */
        #episodes-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg-color); z-index: 200; overflow-y: auto; }
        .modal-header { position: sticky; top: 0; background: rgba(20,20,20,0.95); padding: 15px; display: flex; align-items: center; gap: 15px; border-bottom: 1px solid #333; z-index: 201; }
        .back-btn { background: none; border: none; color: white; font-size: 24px; cursor: pointer; }
        .modal-title { font-size: 18px; font-weight: bold; }
        
        .episodes-list { padding: 20px; display: flex; flex-direction: column; gap: 10px; }
        .episode-item { background: var(--card-bg); padding: 15px; border-radius: 8px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; }
        .episode-name { font-weight: bold; font-size: 14px; }
        .play-icon { color: var(--accent-color); font-size: 20px; }

    </style>
</head>
<body>

    <header>
        <div class="logo">SHNX</div>
    </header>

    <div id="home-page">
        <div class="hero">
            <div class="hero-content">
                <div class="hero-title">Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø¨ÙˆÙ…Ø¨ 14</div>
                <div style="color: #ddd; margin-bottom: 10px;">ÙƒÙˆÙ…ÙŠØ¯ÙŠØ§ â€¢ Ø±Ù…Ø¶Ø§Ù† 2026</div>
                <button class="btn-hero" onclick="openSeries('Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø¨ÙˆÙ…Ø¨', 'https://placehold.co/600x800?text=Shabab')">â–¶ Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>

        <div class="section-title">Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹ ğŸ”¥</div>
        <div class="scroll-container" id="list-trending">
            </div>

        <div class="section-title">Ø¶Ø­Ùƒ ÙˆÙˆÙ†Ø§Ø³Ø© ğŸ˜‚</div>
        <div class="scroll-container" id="list-comedy"></div>

        <div class="section-title">Ø¯Ø±Ø§Ù…Ø§ ÙˆØ¥Ø«Ø§Ø±Ø© ğŸ¬</div>
        <div class="scroll-container" id="list-drama"></div>
        
        <br><br><br>
    </div>

    <div id="episodes-modal">
        <div class="modal-header">
            <button class="back-btn" onclick="closeSeries()">âœ</button>
            <span class="modal-title" id="modal-series-title">Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„</span>
        </div>
        <div style="padding: 20px; text-align: center;">
            <img id="modal-poster" src="" style="width: 150px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.5);">
            <p style="color: #aaa; font-size: 13px; margin-top: 10px;">Ø§Ø®ØªØ± Ø§Ù„Ø­Ù„Ù‚Ø© Ù„Ù„Ù…Ø´Ø§Ù‡Ø¯Ø©</p>
        </div>
        <div class="episodes-list" id="episodes-container">
            </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#141414');

        // === 1. Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª (Ù‡Ù†Ø§ ØªØ¶ÙŠÙ Ù…Ø³Ù„Ø³Ù„Ø§ØªÙƒ) ===
        // ÙƒÙ„ Ù…Ø³Ù„Ø³Ù„ Ù„Ù‡: Ø§Ø³Ù…ØŒ ØµÙˆØ±Ø©ØŒ ÙˆÙ†ÙˆØ¹ (trending, comedy, drama)
        const seriesDB = [
            { name: "Ø´Ø¨Ø§Ø¨ Ø§Ù„Ø¨ÙˆÙ…Ø¨", img: "https://placehold.co/200x300?text=Shabab", category: "trending" },
            { name: "Ø±Ø§Ù…Ø² Ù„ÙŠÚ¤Ù„", img: "https://placehold.co/200x300?text=Ramez", category: "trending" },
            { name: "Ø¬Ø§Ùƒ Ø§Ù„Ø¹Ù„Ù… 3", img: "https://placehold.co/200x300?text=Jak+3", category: "trending" },
            { name: "Ø´Ø§Ø±Ø¹ Ø§Ù„Ø£Ø¹Ø´Ù‰ 2", img: "https://placehold.co/200x300?text=Asha+2", category: "drama" },
            { name: "ÙŠÙˆÙ…ÙŠØ§Øª Ø±Ø¬Ù„ Ø¹Ø§Ù†Ø³", img: "https://placehold.co/200x300?text=Anis", category: "comedy" },
            { name: "ÙŠÙˆÙ…ÙŠØ§Øª Ø±Ø¬Ù„ Ù…ØªØ²ÙˆØ¬", img: "https://placehold.co/200x300?text=Married", category: "comedy" },
            { name: "ØºÙ„Ø· Ø¨Ù†Ø§Øª", img: "https://placehold.co/200x300?text=Ghalat", category: "drama" },
            { name: "Ø¨Ù†Ø§Øª Ø¹Ø¨Ø¯Ø§Ù„ØºÙ†ÙŠ", img: "https://placehold.co/200x300?text=Banat", category: "drama" },
            { name: "Ø§Ù„ØºÙ…ÙŠØ¶Ù‡", img: "https://placehold.co/200x300?text=Ghamida", category: "drama" },
            { name: "Ø¹ Ø­Ù„ÙˆÙ‡ ÙˆØ§Ù„Ù…Ø±Ù‡", img: "https://placehold.co/200x300?text=Helwa", category: "drama" },
            { name: "Ø®Ø·ÙˆØ§Øª ØµØºÙŠØ±Ù‡", img: "https://placehold.co/200x300?text=Steps", category: "drama" },
            { name: "Ø§Ø¹ÙˆØ§Ù… Ø§Ù„Ø¶Ù„Ø§Ù…", img: "https://placehold.co/200x300?text=Dark", category: "drama" },
            { name: "ÙˆØ¬Ø¨ Ø§Ù„Ù‚Ø¶Ø§Ø¡", img: "https://placehold.co/200x300?text=Wajab", category: "trending" },
            { name: "Ø¹Ø§ÙŠÙ„Ù‡ Ù…Ø§ÙŠÙ„Ù‡", img: "https://placehold.co/200x300?text=Family", category: "comedy" },
            { name: "ÙˆØ­ÙˆØ´2", img: "https://placehold.co/200x300?text=Monsters", category: "trending" },
            { name: "ÙƒØ³ÙØ±Ù‡", img: "https://placehold.co/200x300?text=Kasra", category: "drama" },
            { name: "ÙƒØ­ÙŠÙ„Ø§Ù†", img: "https://placehold.co/200x300?text=Kahilan", category: "trending" }
        ];

        // === 2. ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª ÙÙŠ Ø§Ù„ØµÙØ­Ø© ===
        function renderMovies() {
            seriesDB.forEach(serie => {
                let containerId = "";
                if (serie.category === "trending") containerId = "list-trending";
                else if (serie.category === "comedy") containerId = "list-comedy";
                else containerId = "list-drama";

                let container = document.getElementById(containerId);
                let card = document.createElement("div");
                card.className = "movie-card";
                card.onclick = function() { openSeries(serie.name, serie.img); };
                
                card.innerHTML = `
                    <img src="${serie.img}" class="poster" alt="${serie.name}">
                    <div class="movie-title">${serie.name}</div>
                `;
                container.appendChild(card);
            });
        }

        // === 3. ÙØªØ­ ØµÙØ­Ø© Ø§Ù„Ø­Ù„Ù‚Ø§Øª ===
        function openSeries(name, img) {
            document.getElementById('home-page').style.display = 'none';
            let modal = document.getElementById('episodes-modal');
            modal.style.display = 'block';
            
            document.getElementById('modal-series-title').innerText = name;
            document.getElementById('modal-poster').src = img;
            
            // ØªÙˆÙ„ÙŠØ¯ 30 Ø­Ù„Ù‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            let episodesContainer = document.getElementById('episodes-container');
            episodesContainer.innerHTML = ""; // Ù…Ø³Ø­ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

            for (let i = 1; i <= 30; i++) {
                let div = document.createElement("div");
                div.className = "episode-item";
                div.innerHTML = `
                    <span class="episode-name">Ø§Ù„Ø­Ù„Ù‚Ø© ${i}</span>
                    <span class="play-icon">â–¶</span>
                `;
                // Ù‡Ù†Ø§ Ù†Ø¶Ø¹ Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ´ØºÙŠÙ„ (Ø­Ø§Ù„ÙŠØ§Ù‹ ÙˆÙ‡Ù…ÙŠ Ø­ØªÙ‰ ØªØ¶Ø¹ Ø§Ù„Ù…ØµØ¯Ø±)
                div.onclick = function() { 
                    playEpisode(name, i); 
                };
                episodesContainer.appendChild(div);
            }
        }

        // === 4. Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ===
        function closeSeries() {
            document.getElementById('episodes-modal').style.display = 'none';
            document.getElementById('home-page').style.display = 'block';
        }

        // === 5. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø© ===
        function playEpisode(seriesName, episodeNum) {
            // Ù‡Ù†Ø§ Ø³Ù†Ø¶Ø¹ ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ¯Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø°ÙŠ ÙˆØ¬Ø¯ØªÙ‡
            // Ù…Ø«Ø§Ù„: Ù„Ùˆ Ø§Ù„Ù…ØµØ¯Ø± Ø±Ø§Ø¨Ø· Ù…Ø¨Ø§Ø´Ø±ØŒ Ù†Ø³ØªØ®Ø¯Ù… tg.openLink
            tg.showPopup({
                title: seriesName,
                message: `Ø³ÙŠØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ù„Ù‚Ø© ${episodeNum} Ù‚Ø±ÙŠØ¨Ø§Ù‹..`,
                buttons: [{type: "ok"}]
            });
        }

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹
        renderMovies();

    </script>
</body>
</html>
